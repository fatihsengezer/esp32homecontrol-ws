Başlık: ESP32 backend WSS (port 5631) uyumu

Özet
- ESP32, Node.js sunucuya güvenli WebSocket (wss) ile bağlanacak şekilde güncellendi.
- Sunucu host: fatihdev.xyz, port: 5631.
- Heartbeat mesajı server beklentisine göre `type=heartbeat`, `deviceId`, `deviceName`, `ip_address`, `mac_address` alanları ile gönderiliyor.
- Keepalive ve otomatik yeniden bağlanma etkinleştirildi.

Yapılan Değişiklikler
- espbackend/device_configs/esp32_001.h
  - `WS_SERVER_IP` → "fatihdev.xyz"
  - `WS_SERVER_PORT` → 5631
- espbackend/src/main.cpp
  - `webSocket.beginSSL(...)` kullanıldı.
  - Geçici olarak `webSocket.setInsecure()` eklendi (TLS şifreleme aktif, doğrulama kapalı).
  - `webSocket.enableHeartbeat(15000, 3000, 2)` ile ping/pong keepalive etkin.
- espbackend/src/DeviceConfig.cpp
  - Heartbeat mesajına `ip_address` ve `mac_address` eklendi.

Server Beklentileri (server.js)
- İlk bağlantıda `{"type":"heartbeat","deviceId":"..."}` alınca cihazı `connectedDevices` listesine ekliyor ve DB’yi güncelliyor.
- Text komutları (ör: `relay:0:on`, `getRelayStatus`) legacy olarak destekleniyor ve client’lara aynen yayınlanıyor.

TLS Sertifika Doğrulama (Yapılacak)
- Şu an `setInsecure()` ile doğrulama kapalı; TLS şifreleme var.
- Önerilen: sunucu CA/sertifikası cihaz yazılımına gömülerek doğrulama açılmalı.
  - Sunucu sertifikasını almak için: `openssl s_client -showcerts -connect fatihdev.xyz:5631`
  - Çıktıdaki uygun CA sertifikasını PEM olarak kaydedip koda dahil edin ve `webSocket.setCACert(ca_pem)` veya fingerprint kullanın.

Notlar
- Sunucunun gerçek dinlediği portun 5631 olduğundan emin olun (server.js default 5131). Prod’da reverse proxy/port yönlendirme varsa uygun şekilde ayarlayın.




